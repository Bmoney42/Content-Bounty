import{u as A,t as B,j as e}from"./index-Cp-zpohs.js";import{a as E,d as P,r as i}from"./router-DCicCOur.js";import{K as n,u as F,a as b,l as g,g as U,_ as D,D as Y,as as I,a6 as R}from"./ui-D4EKNBIH.js";import"./vendor-gH-7aFTg.js";import"./firebase-DxBuhNaX.js";const T=()=>{const{user:c}=A(),o=E(),[l]=P(),{connectStatus:t,loading:p,creating:d,onboarding:m,createConnectAccount:j,startOnboarding:x,canReceivePayments:a,statusMessage:f,nextAction:u}=B(),[r,w]=i.useState(c?.email||""),[h,y]=i.useState("US");i.useEffect(()=>{const s=l.get("success"),S=l.get("refresh");s==="true"?window.location.reload():S==="true"&&console.log("Onboarding was refreshed")},[l]);const N=async()=>{if(!r){alert("Please enter your email address");return}try{const s=await j(r,h);s?.accountId&&await x(s.accountId)}catch(s){console.error("Error creating account:",s)}},v=async()=>{t?.accountId&&await x(t.accountId)},k=()=>p?e.jsx(R,{className:"w-6 h-6 text-gray-400 animate-spin"}):a?e.jsx(b,{className:"w-6 h-6 text-green-500"}):t?.requiresAction?e.jsx(n,{className:"w-6 h-6 text-yellow-500"}):e.jsx(n,{className:"w-6 h-6 text-red-500"}),C=()=>a?"text-green-400":t?.requiresAction?"text-yellow-400":"text-red-400";return c?.userType!=="creator"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8 text-center",children:[e.jsx(n,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"This page is only available for creators."}),e.jsx("button",{onClick:()=>o("/dashboard"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Go to Dashboard"})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[e.jsx("button",{onClick:()=>o("/dashboard"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(F,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Banking Setup"}),e.jsx("p",{className:"text-gray-300",children:"Set up your banking information to receive payments"})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[k(),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Payment Status"}),e.jsx("p",{className:`${C()} font-medium`,children:f})]})]}),a&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[e.jsx(b,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Ready to receive payments!"})]}),e.jsx("p",{className:"text-green-300 text-sm mt-1",children:"Your banking account is fully set up. You'll receive payments automatically after completing bounties."})]})]}),!a&&e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Set Up Banking"}),u==="create"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-blue-400 mb-2",children:[e.jsx(g,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Secure Banking Setup"})]}),e.jsx("p",{className:"text-blue-300 text-sm",children:"We use Stripe Connect to securely handle your banking information. Your data is encrypted and protected by industry-standard security."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:r,onChange:s=>w(s.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500",placeholder:"your@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Country"}),e.jsxs("select",{value:h,onChange:s=>y(s.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[e.jsx("option",{value:"US",children:"United States"}),e.jsx("option",{value:"CA",children:"Canada"}),e.jsx("option",{value:"GB",children:"United Kingdom"}),e.jsx("option",{value:"AU",children:"Australia"}),e.jsx("option",{value:"DE",children:"Germany"}),e.jsx("option",{value:"FR",children:"France"})]})]}),e.jsx("button",{onClick:N,disabled:d||!r,className:"w-full px-6 py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center justify-center space-x-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Creating Account..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Banking Account"})]})})]}),u==="onboard"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-yellow-400 mb-2",children:[e.jsx(n,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Complete Your Setup"})]}),e.jsx("p",{className:"text-yellow-300 text-sm",children:"Your banking account has been created but needs additional information to receive payments."})]}),e.jsx("button",{onClick:v,disabled:m,className:"w-full px-6 py-4 bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center justify-center space-x-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Opening Setup..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-5 h-5"}),e.jsx("span",{children:"Complete Banking Setup"})]})})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8 mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Why Set Up Banking?"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(Y,{className:"w-6 h-6 text-green-400"})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Get Paid Fast"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Receive payments automatically after completing bounties. No more waiting for manual transfers."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(g,{className:"w-6 h-6 text-blue-400"})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Secure & Protected"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Your banking information is encrypted and protected by Stripe's industry-leading security."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(I,{className:"w-6 h-6 text-purple-400"})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Direct to Bank"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Payments go directly to your bank account. No middleman, no delays, just fast and reliable transfers."})]})]})]})]})})};export{T as default};
