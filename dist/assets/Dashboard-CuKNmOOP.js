import{u as B,t as O,j as e,f as v}from"./index-Cp-zpohs.js";import{L as $,r as c}from"./router-DCicCOur.js";import{u as V,U as F}from"./UpgradeModal-BX2CXJQG.js";import{K as W,g as z,D as P,V as T,E as L,a6 as R,h as M,s as y,j as E,A as Y,U as Z}from"./ui-D4EKNBIH.js";import{B as p}from"./Button-CbNmxST3.js";import{C}from"./Card-DCtj1dQR.js";import"./vendor-gH-7aFTg.js";import"./firebase-DxBuhNaX.js";const _=()=>{const{user:l}=B(),{canReceivePayments:i}=O();return l?.userType!=="creator"||i?null:e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(W,{className:"w-5 h-5 text-yellow-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Banking Setup Required"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Set up your banking information to receive payments from completed bounties."}),e.jsx("div",{className:"mt-3",children:e.jsxs($,{to:"/creator-banking",className:"inline-flex items-center space-x-2 text-sm font-medium text-yellow-800 hover:text-yellow-900 transition-colors",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:"Set Up Banking"})]})})]})]})})},q=()=>{const{user:l}=B(),{isPremium:i,upgradePrompts:h,applicationsRemaining:S,hasReachedApplicationLimit:k}=V(),[D,d]=c.useState(!1),[m,j]=c.useState([]),[u,b]=c.useState(!0),[w,f]=c.useState([{label:"Total Earnings",value:"$0",icon:P,color:"green"},{label:"Videos Created",value:"0",icon:T,color:"blue"},{label:"Total Views",value:"0",icon:L,color:"purple"},{label:"Active Bounties",value:"0",icon:R,color:"orange"}]);return c.useEffect(()=>{(async()=>{if(l?.id)try{b(!0);const s=await v.getCreatorApplications(l.id),n=await v.getCreatorSubmissions(l.id),g=await v.getBounties(),N=s.filter(a=>a.status==="accepted").length,U=s.filter(a=>a.status==="accepted").reduce((a,t)=>{const o=g.find(I=>I.id===t.bountyId);return a+(o?.payment.amount||0)},0),A=s.filter(a=>a.status==="accepted").length;f([{label:"Total Earnings",value:`$${U.toLocaleString()}`,icon:P,color:"green"},{label:"Videos Created",value:N.toString(),icon:T,color:"blue"},{label:"Total Views",value:"0",icon:L,color:"purple"},{label:"Active Bounties",value:A.toString(),icon:R,color:"orange"}]);const x=[];s.filter(a=>a.status==="accepted").forEach(a=>{const t=g.find(o=>o.id===a.bountyId);t&&x.push({title:t.title,brand:t.businessName||"Unknown Brand",status:"completed",earnings:t.payment.amount,views:"0",date:new Date(a.submittedAt).toLocaleDateString(),bountyId:t.id})}),n.filter(a=>a.status==="submitted"||a.status==="approved").forEach(a=>{const t=g.find(o=>o.id===a.bountyId);t&&x.push({title:t.title,brand:t.businessName||"Unknown Brand",status:a.status==="approved"?"completed":"in-progress",earnings:t.payment.amount,views:"0",date:new Date(a.submittedAt).toLocaleDateString(),bountyId:t.id})}),x.sort((a,t)=>new Date(t.date).getTime()-new Date(a.date).getTime()),j(x.slice(0,5))}catch(s){console.error("Error fetching creator data:",s)}finally{b(!1)}})()},[l?.id]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-8",children:e.jsx(C,{className:"p-6 bg-gradient-to-r from-blue-600 to-purple-600 border-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:i?e.jsx(M,{className:"w-6 h-6 text-yellow-300"}):e.jsx(y,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:i?"Premium Creator":"Free Creator"}),e.jsx("p",{className:"text-blue-100",children:i?"Unlimited applications • Priority placement • Zero fees":`${S} applications remaining this month • Zero fees`})]})]}),!i&&e.jsx(p,{onClick:()=>d(!0),className:"bg-white text-blue-600 hover:bg-gray-100 font-semibold",children:"Upgrade to Premium"})]})})}),e.jsx(_,{}),h.length>0&&!i&&e.jsx("div",{className:"mb-8",children:e.jsx(C,{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(y,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:"Upgrade Opportunity"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:h[0]?.message})]})]}),e.jsx(p,{onClick:()=>d(!0),variant:"outline",size:"sm",className:"border-yellow-300 text-yellow-700 hover:bg-yellow-100",children:"Upgrade Now"})]})})}),e.jsx("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:w.map((r,s)=>e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8 text-center group hover:bg-white/20 transition-all duration-500 hover:scale-105",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-14 h-14 bg-green-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(r.icon,{className:"w-7 h-7 text-white"})})}),e.jsx("div",{className:"text-4xl font-bold text-green-400 mb-3",children:u?"...":r.value}),e.jsx("div",{className:"text-gray-300 text-sm font-semibold",children:r.label})]},s))}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-8",children:"Recent Work"}),u?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-gray-300",children:"Loading your work..."})}):m.length>0?e.jsx("div",{className:"space-y-6",children:m.map((r,s)=>e.jsxs("div",{className:"flex items-center justify-between p-6 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all duration-300",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-white text-lg",children:r.title}),e.jsxs("p",{className:"text-gray-300 font-medium",children:["Brand: ",r.brand]}),e.jsx("p",{className:"text-gray-400 text-sm",children:r.date})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-300 text-sm",children:"Views"}),e.jsx("p",{className:"text-white font-semibold",children:r.views})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-xs font-bold ${r.status==="completed"?"bg-green-500 text-white":r.status==="in-progress"?"bg-yellow-500 text-white":"bg-gray-500 text-white"}`,children:r.status}),e.jsxs("span",{className:"font-bold text-2xl text-green-400",children:["$",r.earnings]})]})]},s))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(E,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No Recent Work"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"You haven't completed any bounties yet. Start earning by finding and applying to bounties!"}),e.jsxs($,{to:"/bounties",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors duration-200",children:[e.jsx("span",{children:"Find Bounties"}),e.jsx(Y,{className:"w-4 h-4 ml-2"})]})]})]}),e.jsx(F,{isOpen:D,onClose:()=>d(!1),trigger:k?"application_limit":"manual"})]})},K=()=>{const{user:l}=B(),{isPremium:i,upgradePrompts:h,bountiesRemaining:S,hasReachedBountyLimit:k}=V(),[D,d]=c.useState(!1),[m,j]=c.useState({activeBounties:0,totalCreators:0,totalPaid:0,videosCreated:0}),[u,b]=c.useState([]),[w,f]=c.useState(!0);c.useEffect(()=>{(async()=>{if(l?.id)try{f(!0);const n=await v.getBountiesByUser(l.id),g=n.filter(t=>t.status==="active"||t.status==="in-progress").length,N=n.filter(t=>t.status==="completed"),U=N.reduce((t,o)=>t+(o.payment?.amount||0),0),A=n.reduce((t,o)=>t+(o.applicationsCount||0),0),x=N.length;j({activeBounties:g,totalCreators:A,totalPaid:U,videosCreated:x});const a=n.sort((t,o)=>new Date(o.createdAt).getTime()-new Date(t.createdAt).getTime()).slice(0,5).map(t=>({id:t.id,title:t.title,creator:t.status==="completed"?"Creator":"TBD",status:t.status,payout:t.payment?.amount||0,date:new Date(t.createdAt).toLocaleDateString()}));b(a)}catch(n){console.error("Error loading dashboard data:",n),j({activeBounties:0,totalCreators:0,totalPaid:0,videosCreated:0}),b([])}finally{f(!1)}})()},[l?.id]);const r=[{label:"Active Bounties",value:m.activeBounties.toString(),icon:E,color:"blue"},{label:"Total Creators",value:m.totalCreators.toString(),icon:Z,color:"green"},{label:"Bounties Paid",value:`$${m.totalPaid.toLocaleString()}`,icon:P,color:"purple"},{label:"Videos Created",value:m.videosCreated.toString(),icon:T,color:"orange"}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-8",children:e.jsx(C,{className:"p-6 bg-gradient-to-r from-green-600 to-blue-600 border-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:i?e.jsx(M,{className:"w-6 h-6 text-yellow-300"}):e.jsx(y,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:i?"Premium Business":"Free Business"}),e.jsx("p",{className:"text-green-100",children:i?"Unlimited bounties • Priority placement • Advanced tools":`${S} bounties remaining this month • Basic features`})]})]}),!i&&e.jsx(p,{onClick:()=>d(!0),className:"bg-white text-green-600 hover:bg-gray-100 font-semibold",children:"Upgrade to Premium"})]})})}),h.length>0&&!i&&e.jsx("div",{className:"mb-8",children:e.jsx(C,{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(y,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:"Upgrade Opportunity"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:h[0]?.message})]})]}),e.jsx(p,{onClick:()=>d(!0),variant:"outline",size:"sm",className:"border-yellow-300 text-yellow-700 hover:bg-yellow-100",children:"Upgrade Now"})]})})}),w?e.jsx("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8 text-center animate-pulse",children:[e.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl mx-auto mb-6"}),e.jsx("div",{className:"h-8 bg-white/20 rounded mb-3"}),e.jsx("div",{className:"h-4 bg-white/20 rounded"})]},s))}):e.jsx("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:r.map((s,n)=>e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8 text-center group hover:bg-white/20 transition-all duration-500 hover:scale-105",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-14 h-14 bg-blue-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(s.icon,{className:"w-7 h-7 text-white"})})}),e.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-3",children:s.value}),e.jsx("div",{className:"text-gray-300 text-sm font-semibold",children:s.label})]},n))}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-8",children:"Recent Bounties"}),w?e.jsx("div",{className:"space-y-6",children:[1,2,3].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-6 bg-white/5 border border-white/10 rounded-xl animate-pulse",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-6 bg-white/20 rounded mb-2 w-3/4"}),e.jsx("div",{className:"h-4 bg-white/20 rounded mb-1 w-1/2"}),e.jsx("div",{className:"h-3 bg-white/20 rounded w-1/4"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-6 bg-white/20 rounded-full"}),e.jsx("div",{className:"w-16 h-8 bg-white/20 rounded"})]})]},s))}):u.length>0?e.jsx("div",{className:"space-y-6",children:u.map((s,n)=>e.jsxs("div",{className:"flex items-center justify-between p-6 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all duration-300",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-white text-lg",children:s.title}),e.jsxs("p",{className:"text-gray-300 font-medium",children:["Creator: ",s.creator]}),e.jsx("p",{className:"text-gray-400 text-sm",children:s.date})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:`px-4 py-2 rounded-full text-xs font-bold ${s.status==="completed"?"bg-green-500 text-white":s.status==="active"?"bg-blue-500 text-white":s.status==="pending"?"bg-yellow-500 text-white":"bg-gray-500 text-white"}`,children:s.status}),e.jsxs("span",{className:"font-bold text-2xl text-blue-400",children:["$",s.payout]})]})]},s.id||n))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(E,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No bounties yet"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Create your first bounty to get started with content creators!"}),e.jsx(p,{onClick:()=>window.location.href="/bounties/create",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Create Your First Bounty"})]})]}),e.jsx(F,{isOpen:D,onClose:()=>d(!1),trigger:k?"bounty_limit":"manual"})]})},ae=()=>{const{user:l}=B();return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 py-12 px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Dashboard"}),e.jsx("p",{className:"text-gray-300 text-lg",children:l.userType==="creator"?"Track your earnings and content performance":"Monitor your bounties and platform performance"})]}),l.userType==="creator"?e.jsx(q,{}):e.jsx(K,{})]})}):e.jsx("div",{children:"Loading..."})};export{ae as default};
